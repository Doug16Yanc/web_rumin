<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rumin Web/Perfil</title>
    <link rel="stylesheet" href="../style.css">

    <script defer src="https://www.gstatic.com/firebasejs/9.1.3/firebase-app.js"></script>
    <script defer src="https://www.gstatic.com/firebasejs/9.1.3/firebase-firestore.js"></script>
    <script defer src="../javascript/script.js"></script>
    <label defer src="../javascript/label.js"></label>
</head>
<body>
    <div class="header">
        <a href="#" class="logo">Rumin Web</a>
        <i class="fa-solid fa-bars" id="menu-icons"></i>
        <div class="navbar" id="navbar">
            <a href="#">Perfil</a>
            <a href="../pages/propriedade.html">Propriedades</a>
            <a href="../pages/rebanho.html">Rebanho</a>
            <a href="../pages/animal.html">Animais</a>
            <a href="../pages/dashboard.html">Estatísticas</a>
            <a href="../index.html">Sair</a>
        </div>
    </div>
    <div class="introduce">
        <div class="first-introduce">
            <img src="../images/data.png" alt="Dados" width="450px" />
            <div class="text">
                <h1>Proprietário</h1>
                <h2></h2>
            </div>
        </div>
        <div class="container">
            <div class="input-wrapper">
                <label for="nomeCompleto">Nome completo</label>
                <input id="nomeCompleto" type="text" readOnly value="" />
            </div>
            <div class="input-wrapper">
                <label for="dataNascimento">Data de nascimento</label>
                <input id="dataNascimento" type="text" readOnly value="" />
            </div>
            <div class="input-wrapper">
                <label for="email">Email</label>
                <input id="email" type="text" readOnly value="" />
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
         /*
         Aqui é necessário inserir as informações geradas pelo projeto original
         
            const firebaseConfig = {
                apiKey: "",
                authDomain: "ruminweb-84e4d.firebaseapp.com",
                projectId: "ruminweb-84e4d",
                storageBucket: "ruminweb-84e4d.appspot.com",
                messagingSenderId: "189029588268",
                appId: "",
                measurementId: "G-6358HM48PN"
            };
                */
            firebase.initializeApp(firebaseConfig);
            const db = firebase.firestore();

            async function fetchPropriedadeData() {
                try {
                    const doc = await db.collection('produtores').doc('rzPpobnJkzsmPKX2uE8q').get();
                    if (doc.exists) {
                        const data = doc.data();
                        document.getElementById('nomeCompleto').value = data.nomeCompleto;
                        document.getElementById('dataNascimento').value = data.dataNascimento;
                        document.getElementById('email').value = data.email;
                    } else {
                        console.log("No such document!");
                    }
                } catch (error) {
                    console.error("Error fetching document: ", error);
                }
            }

            window.onload = fetchPropriedadeData;
        });
    </script>
    <div class="footer">
        <div class="author">
            <div class="copyright">
                <img src="../images/cidts.jpeg" alt=""/> 
                <img src="../images/ifce.png" alt=""/>
            </div>
            <div class="text">
                All Right Reserved
            </div>
        </div>  
    </div>
</body>
</html>

